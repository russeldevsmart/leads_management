(this.webpackJsonpdemo3=this.webpackJsonpdemo3||[]).push([[5],{1493:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(92),c=a(23),i=a(32);function o(){var e=Object(c.e)((function(e){return{isLoading:e.customers.listLoading}}),c.c).isLoading;return Object(n.useEffect)((function(){}),[e]),r.a.createElement(i.i,{isLoading:e,text:"Loading ..."})}var s=a(1116),u=a(63),m=a.n(u);var d=a(195),p={listLoading:!1,actionsLoading:!1,totalCount:0,entities:null,customerForEdit:void 0,lastError:null},f="list",E="action",g=Object(d.b)({name:"customers",initialState:p,reducers:{catchError:function(e,t){e.error="".concat(t.type,": ").concat(t.payload.error),t.payload.callType===f?e.listLoading=!1:e.actionsLoading=!1},startCall:function(e,t){e.error=null,t.payload.callType===f?e.listLoading=!0:e.actionsLoading=!0},customerFetched:function(e,t){e.actionsLoading=!1,e.customerForEdit=t.payload.customerForEdit,e.error=null},customersFetched:function(e,t){var a=t.payload,n=a.totalCount,r=a.entities;e.listLoading=!1,e.error=null,e.entities=r,e.totalCount=n},customerCreated:function(e,t){e.ewactionsLoading=!1,e.error=null,e.entities.push(t.payload.customer)},customerUpdated:function(e,t){e.error=null,e.actionsLoading=!1,e.entities=e.entities.map((function(e){return e.id===t.payload.customer.id?t.payload.customer:e}))},customerDeleted:function(e,t){e.error=null,e.actionsLoading=!1,e.entities=e.entities.filter((function(e){return e.id!==t.payload.id}))},customersDeleted:function(e,t){e.error=null,e.actionsLoading=!1,e.entities=e.entities.filter((function(e){return!t.payload.ids.includes(e.id)}))},customersStatusUpdated:function(e,t){e.actionsLoading=!1,e.error=null;var a=t.payload,n=a.ids,r=a.status;e.entities=e.entities.map((function(e){return n.findIndex((function(t){return t===e.id}))>-1&&(e.status=r),e}))}}}).actions,b=function(e){return function(t){return t(g.startCall({callType:f})),function(e){return m.a.post("".concat("api/customers","/find"),{queryParams:e})}(e).then((function(e){var a=e.data,n=a.totalCount,r=a.entities;t(g.customersFetched({totalCount:n,entities:r}))})).catch((function(e){e.clientMessage="Can't find customers",t(g.catchError({error:e,callType:f}))}))}},h=function(e){return function(t){return e?(t(g.startCall({callType:E})),(a=e,m.a.get("".concat("api/customers","/").concat(a))).then((function(e){var a=e.data;t(g.customerFetched({customerForEdit:a}))})).catch((function(e){e.clientMessage="Can't find customer",t(g.catchError({error:e,callType:E}))}))):t(g.customerFetched({customerForEdit:void 0}));var a}},v=function(e){return function(t){return t(g.startCall({callType:E})),(a=e,m.a.delete("".concat("api/customers","/").concat(a))).then((function(a){t(g.customerDeleted({id:e}))})).catch((function(e){e.clientMessage="Can't delete customer",t(g.catchError({error:e,callType:E}))}));var a}},y=function(e){return function(t){return t(g.startCall({callType:E})),(a=e,m.a.post("api/customers",{customer:a})).then((function(e){var a=e.data.customer;t(g.customerCreated({customer:a}))})).catch((function(e){e.clientMessage="Can't create customer",t(g.catchError({error:e,callType:E}))}));var a}},C=function(e){return function(t){return t(g.startCall({callType:E})),function(e){return m.a.put("".concat("api/customers","/").concat(e.id),{customer:e})}(e).then((function(){t(g.customerUpdated({customer:e}))})).catch((function(e){e.clientMessage="Can't update customer",t(g.catchError({error:e,callType:E}))}))}},D=function(e,t){return function(a){return a(g.startCall({callType:E})),function(e,t){return m.a.post("".concat("api/customers","/updateStatusForCustomers"),{ids:e,status:t})}(e,t).then((function(){a(g.customersStatusUpdated({ids:e,status:t}))})).catch((function(e){e.clientMessage="Can't update customers status",a(g.catchError({error:e,callType:E}))}))}},N=function(e){return function(t){return t(g.startCall({callType:E})),function(e){return m.a.post("".concat("api/customers","/deleteCustomers"),{ids:e})}(e).then((function(){t(g.customersDeleted({ids:e}))})).catch((function(e){e.clientMessage="Can't delete customers",t(g.catchError({error:e,callType:E}))}))}},k=a(14);function P(e){var t=e.id,a=Object(c.e)((function(e){return{customerForEdit:e.customers.customerForEdit,actionsLoading:e.customers.actionsLoading}}),c.c),l=a.customerForEdit,o=a.actionsLoading,u=Object(n.useState)(""),m=Object(k.a)(u,2),d=m[0],p=m[1];return Object(n.useEffect)((function(){var e=t?"":"New Customer";l&&t&&(e="Edit customer '".concat(l.firstName," ").concat(l.lastName,"'")),p(e)}),[l,o]),r.a.createElement(r.a.Fragment,null,o&&r.a.createElement(i.j,null),r.a.createElement(s.a.Header,{closeButton:!0},r.a.createElement(s.a.Title,{id:"example-modal-sizes-title-lg"},d)))}var j=a(40),O=a(13),F=O.f().shape({firstName:O.h().min(3,"Minimum 3 symbols").max(50,"Maximum 50 symbols").required("Firstname is required"),lastName:O.h().min(3,"Minimum 3 symbols").max(50,"Maximum 50 symbols").required("Lastname is required"),email:O.h().email("Invalid email").required("Email is required"),userName:O.h().required("Username is required"),dateOfBbirth:O.d().nullable(!1).required("Date of Birth is required"),ipAddress:O.h().required("IP Address is required")});function S(e){var t=e.saveCustomer,a=e.customer,n=e.actionsLoading,l=e.onHide;return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.c,{enableReinitialize:!0,initialValues:a,validationSchema:F,onSubmit:function(e){t(e)}},(function(e){var t=e.handleSubmit;return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a.Body,{className:"overlay overlay-block cursor-default"},n&&r.a.createElement("div",{className:"overlay-layer bg-transparent"},r.a.createElement("div",{className:"spinner spinner-lg spinner-success"})),r.a.createElement(j.b,{className:"form form-label-right"},r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(j.a,{name:"firstName",component:i.g,placeholder:"First Name",label:"First Name"})),r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(j.a,{name:"lastName",component:i.g,placeholder:"Last Name",label:"Last Name"})),r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(j.a,{name:"userName",component:i.g,placeholder:"Login",label:"Login"}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(j.a,{type:"email",name:"email",component:i.g,placeholder:"Email",label:"Email"})),r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(i.f,{name:"dateOfBbirth",label:"Date of Birth"})),r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(j.a,{name:"ipAddress",component:i.g,placeholder:"IP Address",label:"IP Address",customFeedbackLabel:"We'll never share customer IP Address with anyone else"}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(i.m,{name:"Gender",label:"Gender"},r.a.createElement("option",{value:"Female"},"Female"),r.a.createElement("option",{value:"Male"},"Male"))),r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(i.m,{name:"type",label:"Type"},r.a.createElement("option",{value:"0"},"Business"),r.a.createElement("option",{value:"1"},"Individual")))))),r.a.createElement(s.a.Footer,null,r.a.createElement("button",{type:"button",onClick:l,className:"btn btn-light btn-elevate"},"Cancel"),r.a.createElement(r.a.Fragment,null," "),r.a.createElement("button",{type:"submit",onClick:function(){return t()},className:"btn btn-primary btn-elevate"},"Save")))})))}var x=a(53),w=["danger","success","info",""],L=["Suspended","Active","Pending",""],I=["success","primary",""],q=["Business","Individual",""],T=[{dataField:"id",order:"asc"}],R=[{text:"3",value:3},{text:"5",value:5},{text:"10",value:10}],M={filter:{lastName:"",firstName:"",email:"",ipAddress:""},sortOrder:"asc",sortField:"id",pageNumber:1,pageSize:10},H=Object(n.createContext)();function B(){return Object(n.useContext)(H)}H.Consumer;function z(e){var t=e.customersUIEvents,a=e.children,l=Object(n.useState)(M),c=Object(k.a)(l,2),i=c[0],o=c[1],s=Object(n.useState)([]),u=Object(k.a)(s,2),m=u[0],d=u[1],p=Object(n.useCallback)((function(e){o((function(t){return Object(x.isFunction)(e)&&(e=e(t)),Object(x.isEqual)(t,e)?t:e}))}),[]),f={queryParams:i,setQueryParamsBase:o,ids:m,setIds:d,setQueryParams:p,initCustomer:{id:void 0,firstName:"",lastName:"",email:"",userName:"",gender:"Female",status:0,dateOfBbirth:"",ipAddress:"",type:1},newCustomerButtonClick:t.newCustomerButtonClick,openEditCustomerDialog:t.openEditCustomerDialog,openDeleteCustomerDialog:t.openDeleteCustomerDialog,openDeleteCustomersDialog:t.openDeleteCustomersDialog,openFetchCustomersDialog:t.openFetchCustomersDialog,openUpdateCustomersStatusDialog:t.openUpdateCustomersStatusDialog};return r.a.createElement(H.Provider,{value:f},a)}function U(e){var t=e.id,a=e.show,l=e.onHide,i=B(),o=Object(n.useMemo)((function(){return{initCustomer:i.initCustomer}}),[i]),u=Object(c.d)(),m=Object(c.e)((function(e){return{actionsLoading:e.customers.actionsLoading,customerForEdit:e.customers.customerForEdit}}),c.c),d=m.actionsLoading,p=m.customerForEdit;Object(n.useEffect)((function(){u(h(t))}),[t,u]);return r.a.createElement(s.a,{size:"lg",show:a,onHide:l,"aria-labelledby":"example-modal-sizes-title-lg"},r.a.createElement(P,{id:t}),r.a.createElement(S,{saveCustomer:function(e){t?u(C(e)).then((function(){return l()})):u(y(e)).then((function(){return l()}))},actionsLoading:d,customer:p||o.initCustomer,onHide:l}))}function A(e){var t=e.id,a=e.show,l=e.onHide,o=B(),u=Object(n.useMemo)((function(){return{setIds:o.setIds,queryParams:o.queryParams}}),[o]),m=Object(c.d)(),d=Object(c.e)((function(e){return{isLoading:e.customers.actionsLoading}}),c.c).isLoading;Object(n.useEffect)((function(){t||l()}),[t]),Object(n.useEffect)((function(){}),[d,m]);return r.a.createElement(s.a,{show:a,onHide:l,"aria-labelledby":"example-modal-sizes-title-lg"},d&&r.a.createElement(i.j,null),r.a.createElement(s.a.Header,{closeButton:!0},r.a.createElement(s.a.Title,{id:"example-modal-sizes-title-lg"},"Customer Delete")),r.a.createElement(s.a.Body,null,!d&&r.a.createElement("span",null,"Are you sure to permanently delete this customer?"),d&&r.a.createElement("span",null,"Customer is deleting...")),r.a.createElement(s.a.Footer,null,r.a.createElement("div",null,r.a.createElement("button",{type:"button",onClick:l,className:"btn btn-light btn-elevate"},"Cancel"),r.a.createElement(r.a.Fragment,null," "),r.a.createElement("button",{type:"button",onClick:function(){m(v(t)).then((function(){m(b(u.queryParams)),u.setIds([]),l()}))},className:"btn btn-primary btn-elevate"},"Delete"))))}function Q(e){var t=e.show,a=e.onHide,l=B(),o=Object(n.useMemo)((function(){return{ids:l.ids,setIds:l.setIds,queryParams:l.queryParams}}),[l]),u=Object(c.d)(),m=Object(c.e)((function(e){return{isLoading:e.customers.actionsLoading}}),c.c).isLoading;Object(n.useEffect)((function(){o.ids&&0!==o.ids.length||a()}),[o.ids]),Object(n.useEffect)((function(){}),[m,u]);return r.a.createElement(s.a,{show:t,onHide:a,"aria-labelledby":"example-modal-sizes-title-lg"},m&&r.a.createElement(i.j,null),r.a.createElement(s.a.Header,{closeButton:!0},r.a.createElement(s.a.Title,{id:"example-modal-sizes-title-lg"},"Customers Delete")),r.a.createElement(s.a.Body,null,!m&&r.a.createElement("span",null,"Are you sure to permanently delete selected customers?"),m&&r.a.createElement("span",null,"Customer are deleting...")),r.a.createElement(s.a.Footer,null,r.a.createElement("div",null,r.a.createElement("button",{type:"button",onClick:a,className:"btn btn-light btn-elevate"},"Cancel"),r.a.createElement(r.a.Fragment,null," "),r.a.createElement("button",{type:"button",onClick:function(){u(N(o.ids)).then((function(){u(b(o.queryParams)).then((function(){o.setIds([]),a()}))}))},className:"btn btn-primary btn-elevate"},"Delete"))))}var V=function(e,t){var a=[];return t.forEach((function(t){var n=e.find((function(e){return e.id===t}));n&&a.push(n)})),a};function G(e){var t=e.show,a=e.onHide,l=B(),i=Object(n.useMemo)((function(){return{ids:l.ids}}),[l]),o=Object(c.e)((function(e){return{customers:V(e.customers.entities,i.ids)}}),c.c).customers;return Object(n.useEffect)((function(){i.ids&&0!==i.ids.length||a()}),[i.ids]),r.a.createElement(s.a,{show:t,onHide:a,"aria-labelledby":"example-modal-sizes-title-lg"},r.a.createElement(s.a.Header,{closeButton:!0},r.a.createElement(s.a.Title,{id:"example-modal-sizes-title-lg"},"Fetch selected elements")),r.a.createElement(s.a.Body,null,r.a.createElement("table",{className:"table table table-head-custom table-vertical-center overflow-hidden"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"STATUS"),r.a.createElement("th",null,"CUSTOMER"))),r.a.createElement("tbody",null,o.map((function(e){return r.a.createElement("tr",{key:"id".concat(e.id)},r.a.createElement("td",null,e.id),r.a.createElement("td",null,r.a.createElement("span",{className:"label label-lg label-light-".concat(w[e.status]," label-inline")}," ",L[e.status])),r.a.createElement("td",null,r.a.createElement("span",{className:"ml-3"},e.lastName,", ",e.firstName)))}))))),r.a.createElement(s.a.Footer,null,r.a.createElement("div",null,r.a.createElement("button",{type:"button",onClick:a,className:"btn btn-light btn-elevate"},"Cancel"),r.a.createElement(r.a.Fragment,null," "),r.a.createElement("button",{type:"button",onClick:a,className:"btn btn-primary btn-elevate"},"Ok"))))}var W=function(e,t){var a=[];return t.forEach((function(t){var n=e.find((function(e){return e.id===t}));n&&a.push(n)})),a};function Y(e){var t=e.show,a=e.onHide,l=B(),i=Object(n.useMemo)((function(){return{ids:l.ids,setIds:l.setIds,queryParams:l.queryParams}}),[l]),o=Object(c.e)((function(e){return{customers:W(e.customers.entities,i.ids),isLoading:e.customers.actionsLoading}}),c.c),u=o.customers,m=o.isLoading;Object(n.useEffect)((function(){i.ids&&0!==i.ids.length||a()}),[i.ids]);var d=Object(n.useState)(0),p=Object(k.a)(d,2),f=p[0],E=p[1],g=Object(c.d)();return r.a.createElement(s.a,{show:t,onHide:a,"aria-labelledby":"example-modal-sizes-title-lg"},r.a.createElement(s.a.Header,{closeButton:!0},r.a.createElement(s.a.Title,{id:"example-modal-sizes-title-lg"},"Status has been updated for selected customers")),r.a.createElement(s.a.Body,{className:"overlay overlay-block cursor-default"},m&&r.a.createElement("div",{className:"overlay-layer"},r.a.createElement("div",{className:"spinner spinner-lg spinner-primary"})),r.a.createElement("table",{className:"table table table-head-custom table-vertical-center overflow-hidden"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"STATUS"),r.a.createElement("th",null,"CUSTOMER"))),r.a.createElement("tbody",null,u.map((function(e){return r.a.createElement("tr",{key:"id".concat(e.id)},r.a.createElement("td",null,e.id),r.a.createElement("td",null,r.a.createElement("span",{className:"label label-lg label-light-".concat(w[e.status]," label-inline")}," ",L[e.status])),r.a.createElement("td",null,r.a.createElement("span",{className:"ml-3"},e.lastName,", ",e.firstName)))}))))),r.a.createElement(s.a.Footer,{className:"form"},r.a.createElement("div",{className:"form-group"},r.a.createElement("select",{className:"form-control",value:f,onChange:function(e){return E(+e.target.value)}},r.a.createElement("option",{value:"0"},"Suspended"),r.a.createElement("option",{value:"1"},"Active"),r.a.createElement("option",{value:"2"},"Pending"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"button",onClick:a,className:"btn btn-light btn-elevate mr-3"},"Cancel"),r.a.createElement("button",{type:"button",onClick:function(){g(D(i.ids,f)).then((function(){g(b(i.queryParams)).then((function(){i.setIds([]),a()}))}))},className:"btn btn-primary btn-elevate"},"Update Status"))))}var $=a(64);function J(e){e.listLoading;var t=B(),a=Object(n.useMemo)((function(){return{queryParams:t.queryParams,setQueryParams:t.setQueryParams}}),[t]),l=function(e){var t=function(e,t){var a=t.status,n=t.type,r=t.searchText,l=Object($.a)({},e),c={};return c.status=""!==a?+a:void 0,c.type=""!==n?+n:void 0,c.lastName=r,r&&(c.firstName=r,c.email=r,c.ipAddress=r),l.filter=c,l}(a.queryParams,e);Object(x.isEqual)(t,a.queryParams)||(t.pageNumber=1,a.setQueryParams(t))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.c,{initialValues:{status:"",type:"",searchText:""},onSubmit:function(e){l(e)}},(function(e){var t=e.values,a=e.handleSubmit,n=e.handleBlur,l=(e.handleChange,e.setFieldValue);return r.a.createElement("form",{onSubmit:a,className:"form form-label-right"},r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-lg-2"},r.a.createElement("select",{className:"form-control",name:"status",placeholder:"Filter by Status",onChange:function(e){l("status",e.target.value),a()},onBlur:n,value:t.status},r.a.createElement("option",{value:""},"All"),r.a.createElement("option",{value:"0"},"Susspended"),r.a.createElement("option",{value:"1"},"Active"),r.a.createElement("option",{value:"2"},"Pending")),r.a.createElement("small",{className:"form-text text-muted"},r.a.createElement("b",null,"Filter")," by Status")),r.a.createElement("div",{className:"col-lg-2"},r.a.createElement("select",{className:"form-control",placeholder:"Filter by Type",name:"type",onBlur:n,onChange:function(e){l("type",e.target.value),a()},value:t.type},r.a.createElement("option",{value:""},"All"),r.a.createElement("option",{value:"0"},"Business"),r.a.createElement("option",{value:"1"},"Individual")),r.a.createElement("small",{className:"form-text text-muted"},r.a.createElement("b",null,"Filter")," by Type")),r.a.createElement("div",{className:"col-lg-2"},r.a.createElement("input",{type:"text",className:"form-control",name:"searchText",placeholder:"Search",onBlur:n,value:t.searchText,onChange:function(e){l("searchText",e.target.value),a()}}),r.a.createElement("small",{className:"form-text text-muted"},r.a.createElement("b",null,"Search")," in all fields"))))})))}var K=a(363),X=a.n(K),Z=a(194),_=a.n(Z),ee=a(2);function te(e,t){return r.a.createElement("span",{className:"label label-lg label-light-".concat(w[t.status]," label-inline")},L[t.status])}function ae(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"label label-dot label-".concat(I[t.type]," mr-2")}),"\xa0",r.a.createElement("span",{className:"font-bold font-".concat(I[t.type])},q[t.type]))}var ne=a(4),re=a.n(ne);function le(e,t,a,n){var l=n.openEditCustomerDialog,c=n.openDeleteCustomerDialog;return r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{title:"Edit customer",className:"btn btn-icon btn-light btn-hover-primary btn-sm mx-3",onClick:function(){return l(t.id)}},r.a.createElement("span",{className:"svg-icon svg-icon-md svg-icon-primary"},r.a.createElement(re.a,{src:Object(ee.j)("/media/svg/icons/Communication/Write.svg")}))),r.a.createElement(r.a.Fragment,null," "),r.a.createElement("a",{title:"Delete customer",className:"btn btn-icon btn-light btn-hover-danger btn-sm",onClick:function(){return c(t.id)}},r.a.createElement("span",{className:"svg-icon svg-icon-md svg-icon-danger"},r.a.createElement(re.a,{src:Object(ee.j)("/media/svg/icons/General/Trash.svg")}))))}function ce(){var e=B(),t=Object(n.useMemo)((function(){return{ids:e.ids,setIds:e.setIds,queryParams:e.queryParams,setQueryParams:e.setQueryParams,openEditCustomerDialog:e.openEditCustomerDialog,openDeleteCustomerDialog:e.openDeleteCustomerDialog}}),[e]),a=Object(c.e)((function(e){return{currentState:e.customers}}),c.c).currentState,l=a.totalCount,o=a.entities,s=a.listLoading,u=Object(c.d)();Object(n.useEffect)((function(){t.setIds([]),u(b(t.queryParams))}),[t.queryParams,u]);var m=[{dataField:"id",text:"ID",sort:!0,sortCaret:ee.i,headerSortingClasses:ee.h},{dataField:"firstName",text:"Firstname",sort:!0,sortCaret:ee.i,headerSortingClasses:ee.h},{dataField:"lastName",text:"Lastname",sort:!0,sortCaret:ee.i,headerSortingClasses:ee.h},{dataField:"email",text:"Email",sort:!0,sortCaret:ee.i,headerSortingClasses:ee.h},{dataField:"gender",text:"Gender",sort:!1,sortCaret:ee.i},{dataField:"status",text:"Status",sort:!0,sortCaret:ee.i,formatter:te,headerSortingClasses:ee.h},{dataField:"type",text:"Type",sort:!0,sortCaret:ee.i,formatter:ae},{dataField:"action",text:"Actions",formatter:le,formatExtraData:{openEditCustomerDialog:t.openEditCustomerDialog,openDeleteCustomerDialog:t.openDeleteCustomerDialog},classes:"text-right pr-0",headerClasses:"text-right pr-3",style:{minWidth:"100px"}}],d={custom:!0,totalSize:l,sizePerPageList:R,sizePerPage:t.queryParams.pageSize,page:t.queryParams.pageNumber};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Z.PaginationProvider,{pagination:_()(d)},(function(e){var a=e.paginationProps,n=e.paginationTableProps;return r.a.createElement(i.l,{isLoading:s,paginationProps:a},r.a.createElement(X.a,Object.assign({wrapperClasses:"table-responsive",bordered:!1,classes:"table table-head-custom table-vertical-center overflow-hidden",bootstrap4:!0,remote:!0,keyField:"id",data:null===o?[]:o,columns:m,defaultSorted:T,onTableChange:Object(ee.d)(t.setQueryParams),selectRow:Object(ee.g)({entities:o,ids:t.ids,setIds:t.setIds})},n),r.a.createElement(ee.b,{entities:o}),r.a.createElement(ee.a,{entities:o})))})))}function ie(){var e=B(),t=Object(n.useMemo)((function(){return{ids:e.ids,setIds:e.setIds,openDeleteCustomersDialog:e.openDeleteCustomersDialog,openFetchCustomersDialog:e.openFetchCustomersDialog,openUpdateCustomersStatusDialog:e.openUpdateCustomersStatusDialog}}),[e]);return r.a.createElement("div",{className:"form"},r.a.createElement("div",{className:"row align-items-center form-group-actions margin-top-20 margin-bottom-20"},r.a.createElement("div",{className:"col-xl-12"},r.a.createElement("div",{className:"form-group form-group-inline"},r.a.createElement("div",{className:"form-label form-label-no-wrap"},r.a.createElement("label",{className:"font-bold font-danger"},r.a.createElement("span",null,"Selected records count: ",r.a.createElement("b",null,t.ids.length)))),r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:"btn btn-danger font-weight-bolder font-size-sm",onClick:t.openDeleteCustomersDialog},r.a.createElement("i",{className:"fa fa-trash"})," Delete All"),"\xa0",r.a.createElement("button",{type:"button",className:"btn btn-light-primary font-weight-bolder font-size-sm",onClick:t.openFetchCustomersDialog},r.a.createElement("i",{className:"fa fa-stream"})," Fetch Selected"),"\xa0",r.a.createElement("button",{type:"button",className:"btn btn-light-primary font-weight-bolder font-size-sm",onClick:t.openUpdateCustomersStatusDialog},r.a.createElement("i",{className:"fa fa-sync-alt"})," Update Status"))))))}function oe(){var e=B(),t=Object(n.useMemo)((function(){return{ids:e.ids,newCustomerButtonClick:e.newCustomerButtonClick}}),[e]);return r.a.createElement(i.b,null,r.a.createElement(i.d,{title:"Customers list"},r.a.createElement(i.e,null,r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:t.newCustomerButtonClick},"New Customer"))),r.a.createElement(i.c,null,r.a.createElement(J,null),t.ids.length>0&&r.a.createElement(ie,null),r.a.createElement(ce,null)))}function se(e){var t=e.history,a={newCustomerButtonClick:function(){t.push("/e-commerce/customers/new")},openEditCustomerDialog:function(e){t.push("/e-commerce/customers/".concat(e,"/edit"))},openDeleteCustomerDialog:function(e){t.push("/e-commerce/customers/".concat(e,"/delete"))},openDeleteCustomersDialog:function(){t.push("/e-commerce/customers/deleteCustomers")},openFetchCustomersDialog:function(){t.push("/e-commerce/customers/fetch")},openUpdateCustomersStatusDialog:function(){t.push("/e-commerce/customers/updateStatus")}};return r.a.createElement(z,{customersUIEvents:a},r.a.createElement(o,null),r.a.createElement(l.c,{path:"/e-commerce/customers/new"},(function(e){var t=e.history,a=e.match;return r.a.createElement(U,{show:null!=a,onHide:function(){t.push("/e-commerce/customers")}})})),r.a.createElement(l.c,{path:"/e-commerce/customers/:id/edit"},(function(e){var t=e.history,a=e.match;return r.a.createElement(U,{show:null!=a,id:a&&a.params.id,onHide:function(){t.push("/e-commerce/customers")}})})),r.a.createElement(l.c,{path:"/e-commerce/customers/deleteCustomers"},(function(e){var t=e.history,a=e.match;return r.a.createElement(Q,{show:null!=a,onHide:function(){t.push("/e-commerce/customers")}})})),r.a.createElement(l.c,{path:"/e-commerce/customers/:id/delete"},(function(e){var t=e.history,a=e.match;return r.a.createElement(A,{show:null!=a,id:a&&a.params.id,onHide:function(){t.push("/e-commerce/customers")}})})),r.a.createElement(l.c,{path:"/e-commerce/customers/fetch"},(function(e){var t=e.history,a=e.match;return r.a.createElement(G,{show:null!=a,onHide:function(){t.push("/e-commerce/customers")}})})),r.a.createElement(l.c,{path:"/e-commerce/customers/updateStatus"},(function(e){var t=e.history,a=e.match;return r.a.createElement(Y,{show:null!=a,onHide:function(){t.push("/e-commerce/customers")}})})),r.a.createElement(oe,null))}function ue(){var e=Object(c.e)((function(e){return{isLoading:e.products.listLoading}}),c.c).isLoading;return Object(n.useEffect)((function(){}),[e]),r.a.createElement(i.i,{isLoading:e,text:"Loading ..."})}var me={listLoading:!1,actionsLoading:!1,totalCount:0,entities:null,productForEdit:void 0,lastError:null},de="list",pe="action",fe=Object(d.b)({name:"products",initialState:me,reducers:{catchError:function(e,t){e.error="".concat(t.type,": ").concat(t.payload.error),t.payload.callType===de?e.listLoading=!1:e.actionsLoading=!1},startCall:function(e,t){e.error=null,t.payload.callType===de?e.listLoading=!0:e.actionsLoading=!0},productFetched:function(e,t){e.actionsLoading=!1,e.productForEdit=t.payload.productForEdit,e.error=null},productsFetched:function(e,t){var a=t.payload,n=a.totalCount,r=a.entities;e.listLoading=!1,e.error=null,e.entities=r,e.totalCount=n},productCreated:function(e,t){e.actionsLoading=!1,e.error=null,e.entities.push(t.payload.product)},productUpdated:function(e,t){e.error=null,e.actionsLoading=!1,e.entities=e.entities.map((function(e){return e.id===t.payload.product.id?t.payload.product:e}))},productDeleted:function(e,t){e.error=null,e.actionsLoading=!1,e.entities=e.entities.filter((function(e){return e.id!==t.payload.id}))},productsDeleted:function(e,t){e.error=null,e.actionsLoading=!1,e.entities=e.entities.filter((function(e){return!t.payload.ids.includes(e.id)}))},productsStatusUpdated:function(e,t){e.actionsLoading=!1,e.error=null;var a=t.payload,n=a.ids,r=a.status;e.entities=e.entities.map((function(e){return n.findIndex((function(t){return t===e.id}))>-1&&(e.status=r),e}))}}}).actions,Ee=function(e){return function(t){return t(fe.startCall({callType:de})),function(e){return m.a.post("".concat("api/products","/find"),{queryParams:e})}(e).then((function(e){var a=e.data,n=a.totalCount,r=a.entities;t(fe.productsFetched({totalCount:n,entities:r}))})).catch((function(e){e.clientMessage="Can't find products",t(fe.catchError({error:e,callType:de}))}))}},ge=function(e){return function(t){return e?(t(fe.startCall({callType:pe})),(a=e,m.a.get("".concat("api/products","/").concat(a))).then((function(e){var a=e.data;t(fe.productFetched({productForEdit:a}))})).catch((function(e){e.clientMessage="Can't find product",t(fe.catchError({error:e,callType:pe}))}))):t(fe.productFetched({productForEdit:void 0}));var a}},be=function(e){return function(t){return t(fe.startCall({callType:pe})),(a=e,m.a.delete("".concat("api/products","/").concat(a))).then((function(a){t(fe.productDeleted({id:e}))})).catch((function(e){e.clientMessage="Can't delete product",t(fe.catchError({error:e,callType:pe}))}));var a}},he=function(e){return function(t){return t(fe.startCall({callType:pe})),(a=e,m.a.post("api/products",{product:a})).then((function(e){var a=e.data.product;t(fe.productCreated({product:a}))})).catch((function(e){e.clientMessage="Can't create product",t(fe.catchError({error:e,callType:pe}))}));var a}},ve=function(e){return function(t){return t(fe.startCall({callType:pe})),function(e){return m.a.put("".concat("api/products","/").concat(e.id),{product:e})}(e).then((function(){t(fe.productUpdated({product:e}))})).catch((function(e){e.clientMessage="Can't update product",t(fe.catchError({error:e,callType:pe}))}))}},ye=function(e,t){return function(a){return a(fe.startCall({callType:pe})),function(e,t){return m.a.post("".concat("api/products","/updateStatusForProducts"),{ids:e,status:t})}(e,t).then((function(){a(fe.productsStatusUpdated({ids:e,status:t}))})).catch((function(e){e.clientMessage="Can't update products status",a(fe.catchError({error:e,callType:pe}))}))}},Ce=function(e){return function(t){return t(fe.startCall({callType:pe})),function(e){return m.a.post("".concat("api/products","/deleteProducts"),{ids:e})}(e).then((function(){t(fe.productsDeleted({ids:e}))})).catch((function(e){e.clientMessage="Can't delete products",t(fe.catchError({error:e,callType:pe}))}))}},De=["success","info",""],Ne=["Selling","Sold"],ke=["success","danger",""],Pe=["New","Used"],je=[{dataField:"id",order:"asc"}],Oe=[{text:"3",value:3},{text:"5",value:5},{text:"10",value:10}],Fe={filter:{model:"",manufacture:"",VINCode:""},sortOrder:"asc",sortField:"VINCode",pageNumber:1,pageSize:10},Se=["Red","CadetBlue","Eagle","Gold","LightSlateGrey","RoyalBlue","Crimson","Blue","Sienna","Indigo","Green","Violet","GoldenRod","OrangeRed","Khaki","Teal","Purple","Orange","Pink","Black","DarkTurquoise"],xe=["Pontiac","Kia","Lotus","Subaru","Jeep","Isuzu","Mitsubishi","Oldsmobile","Chevrolet","Chrysler","Audi","Suzuki","GMC","Cadillac","Infinity","Mercury","Dodge","Ram","Lexus","Lamborghini","Honda","Nissan","Ford","Hyundai","Saab","Toyota"],we=Object(n.createContext)();function Le(){return Object(n.useContext)(we)}we.Consumer;function Ie(e){var t=e.productsUIEvents,a=e.children,l=Object(n.useState)(Fe),c=Object(k.a)(l,2),i=c[0],o=c[1],s=Object(n.useState)([]),u=Object(k.a)(s,2),m=u[0],d=u[1],p=Object(n.useCallback)((function(e){o((function(t){return Object(x.isFunction)(e)&&(e=e(t)),Object(x.isEqual)(t,e)?t:e}))}),[]),f={queryParams:i,setQueryParamsBase:o,ids:m,setIds:d,setQueryParams:p,newProductButtonClick:t.newProductButtonClick,openEditProductPage:t.openEditProductPage,openDeleteProductDialog:t.openDeleteProductDialog,openDeleteProductsDialog:t.openDeleteProductsDialog,openFetchProductsDialog:t.openFetchProductsDialog,openUpdateProductsStatusDialog:t.openUpdateProductsStatusDialog};return r.a.createElement(we.Provider,{value:f},a)}function qe(e){var t=e.id,a=e.show,l=e.onHide,o=Le(),u=Object(n.useMemo)((function(){return{setIds:o.setIds,queryParams:o.queryParams}}),[o]),m=Object(c.d)(),d=Object(c.e)((function(e){return{isLoading:e.products.actionsLoading}}),c.c).isLoading;Object(n.useEffect)((function(){t||l()}),[t]),Object(n.useEffect)((function(){}),[d,m]);return r.a.createElement(s.a,{show:a,onHide:l,"aria-labelledby":"example-modal-sizes-title-lg"},d&&r.a.createElement(i.j,{variant:"query"}),r.a.createElement(s.a.Header,{closeButton:!0},r.a.createElement(s.a.Title,{id:"example-modal-sizes-title-lg"},"Product Delete")),r.a.createElement(s.a.Body,null,!d&&r.a.createElement("span",null,"Are you sure to permanently delete this product?"),d&&r.a.createElement("span",null,"Product is deleting...")),r.a.createElement(s.a.Footer,null,r.a.createElement("div",null,r.a.createElement("button",{type:"button",onClick:l,className:"btn btn-light btn-elevate"},"Cancel"),r.a.createElement(r.a.Fragment,null," "),r.a.createElement("button",{type:"button",onClick:function(){m(be(t)).then((function(){m(Ee(u.queryParams)),u.setIds([]),l()}))},className:"btn btn-delete btn-elevate"},"Delete"))))}function Te(e){var t=e.show,a=e.onHide,l=Le(),o=Object(n.useMemo)((function(){return{ids:l.ids,setIds:l.setIds,queryParams:l.queryParams}}),[l]),u=Object(c.d)(),m=Object(c.e)((function(e){return{isLoading:e.products.actionsLoading}}),c.c).isLoading;Object(n.useEffect)((function(){}),[m,u]),Object(n.useEffect)((function(){o.ids&&0!==o.ids.length||a()}),[o.ids]);return r.a.createElement(s.a,{show:t,onHide:a,"aria-labelledby":"example-modal-sizes-title-lg"},m&&r.a.createElement(i.j,null),r.a.createElement(s.a.Header,{closeButton:!0},r.a.createElement(s.a.Title,{id:"example-modal-sizes-title-lg"},"Products Delete")),r.a.createElement(s.a.Body,null,!m&&r.a.createElement("span",null,"Are you sure to permanently delete selected products?"),m&&r.a.createElement("span",null,"Products are deleting...")),r.a.createElement(s.a.Footer,null,r.a.createElement("div",null,r.a.createElement("button",{type:"button",onClick:a,className:"btn btn-light btn-elevate"},"Cancel"),r.a.createElement(r.a.Fragment,null," "),r.a.createElement("button",{type:"button",onClick:function(){u(Ce(o.ids)).then((function(){u(Ee(o.queryParams)).then((function(){o.setIds([]),a()}))}))},className:"btn btn-primary btn-elevate"},"Delete"))))}var Re=function(e,t){var a=[];return t.forEach((function(t){var n=e.find((function(e){return e.id===t}));n&&a.push(n)})),a};function Me(e){var t=e.show,a=e.onHide,l=Le(),i=Object(n.useMemo)((function(){return{ids:l.ids,queryParams:l.queryParams}}),[l]),o=Object(c.e)((function(e){return{products:Re(e.products.entities,i.ids)}}),c.c).products;return Object(n.useEffect)((function(){i.ids&&0!==i.ids.length||a()}),[i.ids]),r.a.createElement(s.a,{show:t,onHide:a,"aria-labelledby":"example-modal-sizes-title-lg"},r.a.createElement(s.a.Header,{closeButton:!0},r.a.createElement(s.a.Title,{id:"example-modal-sizes-title-lg"},"Fetch selected elements")),r.a.createElement(s.a.Body,null,r.a.createElement("div",{className:"list-timeline list-timeline-skin-light padding-30"},r.a.createElement("div",{className:"list-timeline-items"},o.map((function(e){return r.a.createElement("div",{className:"list-timeline-item mb-3",key:e.id},r.a.createElement("span",{className:"list-timeline-text"},r.a.createElement("span",{className:"label label-lg label-light-".concat(De[e.status]," label-inline"),style:{width:"60px"}},"ID: ",e.id)," ",r.a.createElement("span",{className:"ml-5"},e.manufacture,", ",e.model)))}))))),r.a.createElement(s.a.Footer,null,r.a.createElement("div",null,r.a.createElement("button",{type:"button",onClick:a,className:"btn btn-light btn-elevate"},"Cancel"),r.a.createElement(r.a.Fragment,null," "),r.a.createElement("button",{type:"button",onClick:a,className:"btn btn-primary btn-elevate"},"Ok"))))}var He=function(e,t){var a=[];return t.forEach((function(t){var n=e.find((function(e){return e.id===t}));n&&a.push(n)})),a};function Be(e){var t=e.show,a=e.onHide,l=Le(),i=Object(n.useMemo)((function(){return{ids:l.ids,setIds:l.setIds,queryParams:l.queryParams}}),[l]),o=Object(c.e)((function(e){return{products:He(e.products.entities,i.ids),isLoading:e.products.actionsLoading}}),c.c),u=o.products,m=o.isLoading;Object(n.useEffect)((function(){(i.ids||0===i.ids.length)&&a()}),[i.ids]);var d=Object(n.useState)(0),p=Object(k.a)(d,2),f=p[0],E=p[1],g=Object(c.d)();return r.a.createElement(s.a,{show:t,onHide:a,"aria-labelledby":"example-modal-sizes-title-lg"},r.a.createElement(s.a.Header,{closeButton:!0},r.a.createElement(s.a.Title,{id:"example-modal-sizes-title-lg"},"Status has been updated for selected products")),r.a.createElement(s.a.Body,{className:"overlay overlay-block cursor-default"},m&&r.a.createElement("div",{className:"overlay-layer bg-transparent"},r.a.createElement("div",{className:"spinner spinner-lg spinner-warning"})),r.a.createElement("div",{className:"list-timeline list-timeline-skin-light padding-30"},r.a.createElement("div",{className:"list-timeline-items"},u.map((function(e){return r.a.createElement("div",{className:"list-timeline-item mb-3",key:e.id},r.a.createElement("span",{className:"list-timeline-text"},r.a.createElement("span",{className:"label label-lg label-light-".concat(De[e.status]," label-inline"),style:{width:"60px"}},"ID: ",e.id)," ",r.a.createElement("span",{className:"ml-5"},e.manufacture,", ",e.model)))}))))),r.a.createElement(s.a.Footer,{className:"form"},r.a.createElement("div",{className:"form-group"},r.a.createElement("select",{className:"form-control ".concat(De[f]),value:f,onChange:function(e){return E(+e.target.value)}},r.a.createElement("option",{value:"0"},"Selling"),r.a.createElement("option",{value:"1"},"Sold"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"button",onClick:a,className:"btn btn-light btn-elevate"},"Cancel"),r.a.createElement(r.a.Fragment,null," "),r.a.createElement("button",{type:"button",onClick:function(){g(ye(i.ids,f)).then((function(){g(Ee(i.queryParams)).then((function(){i.setIds([]),a()}))}))},className:"btn btn-primary btn-elevate"},"Update Status"))))}function ze(e){e.listLoading;var t=Le(),a=Object(n.useMemo)((function(){return{setQueryParams:t.setQueryParams,queryParams:t.queryParams}}),[t]),l=function(e){var t=function(e,t){var a=t.status,n=t.condition,r=t.searchText,l=Object($.a)({},e),c={};return c.status=""!==a?+a:void 0,c.condition=""!==n?+n:void 0,c.model=r,r&&(c.manufacture=r,c.VINCode=r),l.filter=c,l}(a.queryParams,e);Object(x.isEqual)(t,a.queryParams)||(t.pageNumber=1,a.setQueryParams(t))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.c,{initialValues:{status:"",condition:"",searchText:""},onSubmit:function(e){l(e)}},(function(e){var t=e.values,a=e.handleSubmit,n=e.handleBlur,l=(e.handleChange,e.setFieldValue);return r.a.createElement("form",{onSubmit:a,className:"form form-label-right"},r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-lg-2"},r.a.createElement("select",{className:"form-control",name:"status",placeholder:"Filter by Status",onChange:function(e){l("status",e.target.value),a()},onBlur:n,value:t.status},r.a.createElement("option",{value:""},"All"),r.a.createElement("option",{value:"0"},"Selling"),r.a.createElement("option",{value:"1"},"Sold")),r.a.createElement("small",{className:"form-text text-muted"},r.a.createElement("b",null,"Filter")," by Status")),r.a.createElement("div",{className:"col-lg-2"},r.a.createElement("select",{className:"form-control",placeholder:"Filter by Type",name:"condition",onBlur:n,onChange:function(e){l("condition",e.target.value),a()},value:t.condition},r.a.createElement("option",{value:""},"All"),r.a.createElement("option",{value:"0"},"New"),r.a.createElement("option",{value:"1"},"Used")),r.a.createElement("small",{className:"form-text text-muted"},r.a.createElement("b",null,"Filter")," by Condition")),r.a.createElement("div",{className:"col-lg-2"},r.a.createElement("input",{type:"text",className:"form-control",name:"searchText",placeholder:"Search",onBlur:n,value:t.searchText,onChange:function(e){l("searchText",e.target.value),a()}}),r.a.createElement("small",{className:"form-text text-muted"},r.a.createElement("b",null,"Search")," in all fields"))))})))}var Ue=function(e,t){return r.a.createElement("span",{className:"label label-lg label-light-".concat(De[t.status]," label-inline")},Ne[t.status])},Ae=function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"badge badge-".concat(ke[t.condition]," badge-dot")}),"\xa0",r.a.createElement("span",{className:"font-bold font-".concat(ke[t.condition])},Pe[t.condition]))},Qe=function(e,t){return r.a.createElement("span",{style:{color:t.color}},t.color)},Ve=function(e,t){return r.a.createElement(r.a.Fragment,null,"$",t.price)},Ge=a(1102),We=a(1103),Ye=function(e,t,a,n){var l=n.openEditProductPage,c=n.openDeleteProductDialog;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ge.a,{overlay:r.a.createElement(We.a,{id:"products-edit-tooltip"},"Edit product")},r.a.createElement("a",{className:"btn btn-icon btn-light btn-hover-primary btn-sm mx-3",onClick:function(){return l(t.id)}},r.a.createElement("span",{className:"svg-icon svg-icon-md svg-icon-primary"},r.a.createElement(re.a,{src:Object(ee.j)("/media/svg/icons/Communication/Write.svg")})))),r.a.createElement(r.a.Fragment,null," "),r.a.createElement(Ge.a,{overlay:r.a.createElement(We.a,{id:"products-delete-tooltip"},"Delete product")},r.a.createElement("a",{className:"btn btn-icon btn-light btn-hover-danger btn-sm",onClick:function(){return c(t.id)}},r.a.createElement("span",{className:"svg-icon svg-icon-md svg-icon-danger"},r.a.createElement(re.a,{src:Object(ee.j)("/media/svg/icons/General/Trash.svg")})))))};function $e(){var e=Le(),t=Object(n.useMemo)((function(){return{ids:e.ids,setIds:e.setIds,queryParams:e.queryParams,setQueryParams:e.setQueryParams,openEditProductPage:e.openEditProductPage,openDeleteProductDialog:e.openDeleteProductDialog}}),[e]),a=Object(c.e)((function(e){return{currentState:e.products}}),c.c).currentState,l=a.totalCount,o=a.entities,s=a.listLoading,u=Object(c.d)();Object(n.useEffect)((function(){t.setIds([]),u(Ee(t.queryParams))}),[t.queryParams,u]);var m=[{dataField:"VINCode",text:"VIN Code (ID)",sort:!0,sortCaret:ee.i},{dataField:"manufacture",text:"Manufacture",sort:!0,sortCaret:ee.i},{dataField:"model",text:"Model",sort:!0,sortCaret:ee.i},{dataField:"modelYear",text:"Model Year",sort:!0,sortCaret:ee.i},{dataField:"color",text:"Color",sort:!0,sortCaret:ee.i,formatter:Qe},{dataField:"price",text:"Price",sort:!0,sortCaret:ee.i,formatter:Ve},{dataField:"status",text:"Status",sort:!0,sortCaret:ee.i,formatter:Ue},{dataField:"condition",text:"Condition",sort:!0,sortCaret:ee.i,formatter:Ae},{dataField:"action",text:"Actions",formatter:Ye,formatExtraData:{openEditProductPage:t.openEditProductPage,openDeleteProductDialog:t.openDeleteProductDialog},classes:"text-right pr-0",headerClasses:"text-right pr-3",style:{minWidth:"100px"}}],d={custom:!0,totalSize:l,sizePerPageList:Oe,sizePerPage:t.queryParams.pageSize,page:t.queryParams.pageNumber};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Z.PaginationProvider,{pagination:_()(d)},(function(e){var a=e.paginationProps,n=e.paginationTableProps;return r.a.createElement(i.l,{isLoading:s,paginationProps:a},r.a.createElement(X.a,Object.assign({wrapperClasses:"table-responsive",classes:"table table-head-custom table-vertical-center overflow-hidden",bootstrap4:!0,bordered:!1,remote:!0,keyField:"id",data:null===o?[]:o,columns:m,defaultSorted:je,onTableChange:Object(ee.d)(t.setQueryParams),selectRow:Object(ee.g)({entities:o,ids:t.ids,setIds:t.setIds})},n),r.a.createElement(ee.b,{entities:o}),r.a.createElement(ee.a,{entities:o})))})))}function Je(){var e=Le(),t=Object(n.useMemo)((function(){return{ids:e.ids,setIds:e.setIds,openDeleteProductsDialog:e.openDeleteProductsDialog,openFetchProductsDialog:e.openFetchProductsDialog,openUpdateProductsStatusDialog:e.openUpdateProductsStatusDialog}}),[e]);return r.a.createElement("div",{className:"form"},r.a.createElement("div",{className:"row align-items-center form-group-actions margin-top-20 margin-bottom-20"},r.a.createElement("div",{className:"col-xl-12"},r.a.createElement("div",{className:"form-group form-group-inline"},r.a.createElement("div",{className:"form-label form-label-no-wrap"},r.a.createElement("label",{className:"-font-bold font-danger-"},r.a.createElement("span",null,"Selected records count: ",r.a.createElement("b",null,t.ids.length)))),r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:"btn btn-danger font-weight-bolder font-size-sm",onClick:t.openDeleteProductsDialog},r.a.createElement("i",{className:"fa fa-trash"})," Delete All"),"\xa0",r.a.createElement("button",{type:"button",className:"btn btn-light-primary font-weight-bolder font-size-sm",onClick:t.openFetchProductsDialog},r.a.createElement("i",{className:"fa fa-stream"})," Fetch Selected"),"\xa0",r.a.createElement("button",{type:"button",className:"btn btn-light-primary font-weight-bolder font-size-sm",onClick:t.openUpdateProductsStatusDialog},r.a.createElement("i",{className:"fa fa-sync-alt"})," Update Status"))))))}function Ke(){var e=Le(),t=Object(n.useMemo)((function(){return{ids:e.ids,queryParams:e.queryParams,setQueryParams:e.setQueryParams,newProductButtonClick:e.newProductButtonClick,openDeleteProductsDialog:e.openDeleteProductsDialog,openEditProductPage:e.openEditProductPage,openUpdateProductsStatusDialog:e.openUpdateProductsStatusDialog,openFetchProductsDialog:e.openFetchProductsDialog}}),[e]);return r.a.createElement(i.b,null,r.a.createElement(i.d,{title:"Products list"},r.a.createElement(i.e,null,r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:t.newProductButtonClick},"New Product"))),r.a.createElement(i.c,null,r.a.createElement(ze,null),t.ids.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Je,null)),r.a.createElement($e,null)))}function Xe(e){var t=e.history,a={newProductButtonClick:function(){t.push("/e-commerce/products/new")},openEditProductPage:function(e){t.push("/e-commerce/products/".concat(e,"/edit"))},openDeleteProductDialog:function(e){t.push("/e-commerce/products/".concat(e,"/delete"))},openDeleteProductsDialog:function(){t.push("/e-commerce/products/deleteProducts")},openFetchProductsDialog:function(){t.push("/e-commerce/products/fetch")},openUpdateProductsStatusDialog:function(){t.push("/e-commerce/products/updateStatus")}};return r.a.createElement(Ie,{productsUIEvents:a},r.a.createElement(ue,null),r.a.createElement(l.c,{path:"/e-commerce/products/deleteProducts"},(function(e){var t=e.history,a=e.match;return r.a.createElement(Te,{show:null!=a,onHide:function(){t.push("/e-commerce/products")}})})),r.a.createElement(l.c,{path:"/e-commerce/products/:id/delete"},(function(e){var t=e.history,a=e.match;return r.a.createElement(qe,{show:null!=a,id:a&&a.params.id,onHide:function(){t.push("/e-commerce/products")}})})),r.a.createElement(l.c,{path:"/e-commerce/products/fetch"},(function(e){var t=e.history,a=e.match;return r.a.createElement(Me,{show:null!=a,onHide:function(){t.push("/e-commerce/products")}})})),r.a.createElement(l.c,{path:"/e-commerce/products/updateStatus"},(function(e){var t=e.history,a=e.match;return r.a.createElement(Be,{show:null!=a,onHide:function(){t.push("/e-commerce/products")}})})),r.a.createElement(Ke,null))}var Ze=O.f().shape({model:O.h().min(2,"Minimum 2 symbols").max(50,"Maximum 50 symbols").required("Model is required"),manufacture:O.h().min(2,"Minimum 2 symbols").max(50,"Maximum 50 symbols").required("Manufacture is required"),modelYear:O.e().min(1950,"1950 is minimum").max(2020,"2020 is maximum").required("Model year is required"),mileage:O.e().min(0,"0 is minimum").max(1e6,"1000000 is maximum").required("Mileage is required"),color:O.h().required("Color is required"),price:O.e().min(1,"$1 is minimum").max(1e6,"$1000000 is maximum").required("Price is required"),VINCode:O.h().required("VINCode is required")});function _e(e){var t=e.product,a=e.btnRef,n=e.saveProduct;return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.c,{enableReinitialize:!0,initialValues:t,validationSchema:Ze,onSubmit:function(e){n(e)}},(function(e){var t=e.handleSubmit;return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.b,{className:"form form-label-right"},r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(j.a,{name:"model",component:i.g,placeholder:"Model",label:"Model"})),r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(i.m,{name:"manufacture",label:"Manufacture"},xe.map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))),r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(j.a,{type:"number",name:"modelYear",component:i.g,placeholder:"Model year",label:"Model year"}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(j.a,{type:"number",name:"mileage",component:i.g,placeholder:"Mileage",label:"Mileage"})),r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(i.m,{name:"color",label:"Color"},Se.map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))),r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(j.a,{type:"number",name:"price",component:i.g,placeholder:"Price",label:"Price ($)",customFeedbackLabel:"Please enter Price"}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(j.a,{name:"VINCode",component:i.g,placeholder:"VIN code",label:"VIN code"})),r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(i.m,{name:"status",label:"Status"},Ne.map((function(e,t){return r.a.createElement("option",{key:e,value:t},e)})))),r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(i.m,{name:"condition",label:"Condition"},Pe.map((function(e,t){return r.a.createElement("option",{key:e,value:t},e)}))))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Description"),r.a.createElement(j.a,{name:"description",as:"textarea",className:"form-control"})),r.a.createElement("button",{type:"submit",style:{display:"none"},ref:a,onSubmit:function(){return t()}})))})))}var et=[{dataField:"id",order:"asc"}],tt=[{text:"1",value:1},{text:"3",value:3},{text:"5",value:5}],at={filter:{value:""},sortOrder:"asc",sortField:"name",pageNumber:1,pageSize:5},nt=[{id:0,name:"Seats"},{id:1,name:"Fuel Type"},{id:2,name:"Stock"},{id:3,name:"Door count"},{id:4,name:"Engine"},{id:5,name:"Transmission"},{id:6,name:"Drivetrain"},{id:7,name:"Combined MPG"},{id:8,name:"Warranty"},{id:9,name:"Wheels"}],rt=Object(n.createContext)();function lt(){return Object(n.useContext)(rt)}rt.Consumer;function ct(e){var t=e.currentProductId,a=e.children,l=Object(n.useState)(t),c=Object(k.a)(l,2),i=c[0],o=c[1],s=Object(n.useState)(at),u=Object(k.a)(s,2),m=u[0],d=u[1],p=Object(n.useState)([]),f=Object(k.a)(p,2),E=f[0],g=f[1],b=Object(n.useCallback)((function(e){d((function(t){return Object(x.isFunction)(e)&&(e=e(t)),Object(x.isEqual)(t,e)?t:e}))}),[]),h=Object(n.useState)(null),v=Object(k.a)(h,2),y=v[0],C=v[1],D={id:void 0,value:"",specId:0,carId:i};Object(n.useEffect)((function(){D.carId=t,D.productId=t,o(t)}),[t]);var N=Object(n.useState)(!1),P=Object(k.a)(N,2),j=P[0],O=P[1],F=Object(n.useState)(!1),S=Object(k.a)(F,2),w=S[0],L=S[1],I=Object(n.useState)(!1),q=Object(k.a)(I,2),T=q[0],R=q[1],M=Object(n.useState)(!1),H=Object(k.a)(M,2),B=H[0],z=H[1],U={ids:E,setIds:g,productId:i,setProductId:o,queryParams:m,setQueryParams:b,initSpecification:D,selectedId:y,showEditSpecificationDialog:j,openEditSpecificationDialog:function(e){C(e),O(!0)},openNewSpecificationDialog:function(){C(void 0),O(!0)},closeEditSpecificationDialog:function(){C(void 0),O(!1)},showDeleteSpecificationDialog:w,openDeleteSpecificationDialog:function(e){C(e),L(!0)},closeDeleteSpecificationDialog:function(){C(void 0),L(!1)},showDeleteSpecificationsDialog:T,openDeleteSpecificationsDialog:function(){R(!0)},closeDeleteSpecificationsDialog:function(){R(!1)},showFetchSpecificationsDialog:B,openFetchSpecificationsDialog:function(){z(!0)},closeFetchSpecificationsDialog:function(){z(!1)}};return r.a.createElement(rt.Provider,{value:U},a)}function it(){var e=lt(),t=Object(n.useMemo)((function(){return{openNewSpecificationDialog:e.openNewSpecificationDialog,setQueryParams:e.setQueryParams,queryParams:e.queryParams}}),[e]),a=function(e){var a=function(e,t){var a=t.searchText,n=Object($.a)({},e),r={};return r.value=a,a&&(r.name=a),n.filter=r,n}(t.queryParams,e);Object(x.isEqual)(a,t.queryParams)||(a.pageNumber=1,t.setQueryParams(a))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"form-filtration"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-md-2 margin-bottom-10-mobile"},r.a.createElement(j.c,{initialValues:{searchText:""},onSubmit:function(e){a(e)}},(function(e){var t=e.values,a=e.handleSubmit,n=e.handleBlur,l=(e.handleChange,e.setFieldValue);return r.a.createElement("form",{onSubmit:a},r.a.createElement("div",null,r.a.createElement("input",{type:"text",className:"form-control",name:"searchText",placeholder:"Search",onBlur:n,value:t.searchText,onChange:function(e){l("searchText",e.target.value),a()}}),r.a.createElement("small",{className:"form-text text-muted"},r.a.createElement("b",null,"Search")," in all fields")))}))),r.a.createElement("div",{className:"col-md-7 margin-bottom-10-mobile"}),r.a.createElement("div",{className:"col-md-3 text-right margin-bottom-10-mobile"},r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return t.openNewSpecificationDialog()}},"Create new specification")))))}var ot={listLoading:!1,actionsLoading:!1,totalCount:0,entities:null,specificationForEdit:void 0,lastError:null},st="list",ut="action",mt=Object(d.b)({name:"specifications",initialState:ot,reducers:{catchError:function(e,t){e.error="".concat(t.type,": ").concat(t.payload.error),t.payload.callType===st?e.listLoading=!1:e.actionsLoading=!1},startCall:function(e,t){e.error=null,t.payload.callType===st?e.listLoading=!0:e.actionsLoading=!0},specificationFetched:function(e,t){e.actionsLoading=!1,e.specificationForEdit=t.payload.specificationForEdit,e.error=null},specificationsFetched:function(e,t){var a=t.payload,n=a.totalCount,r=a.entities;e.listLoading=!1,e.error=null,e.entities=r,e.totalCount=n},specificationCreated:function(e,t){e.actionsLoading=!1,e.error=null,e.entities.push(t.payload.specification)},specificationUpdated:function(e,t){e.error=null,e.actionsLoading=!1,e.entities=e.entities.map((function(e){return e.id===t.payload.specification.id?t.payload.specification:e}))},specificationDeleted:function(e,t){e.error=null,e.actionsLoading=!1,e.entities=e.entities.filter((function(e){return e.id!==t.payload.id}))},specificationsDeleted:function(e,t){e.error=null,e.actionsLoading=!1,e.entities=e.entities.filter((function(e){return!t.payload.ids.includes(e.id)}))}}}).actions,dt=function(e,t){return function(a){return a(mt.startCall({callType:st})),t?function(e,t){return m.a.post("".concat("api/specifications","find/").concat(t),{queryParams:e})}(e,t).then((function(e){var t=e.data,n=t.totalCount,r=t.entities;a(mt.specificationsFetched({totalCount:n,entities:r}))})).catch((function(e){e.clientMessage="Can't find specifications",a(mt.catchError({error:e,callType:st}))})):a(mt.specificationsFetched({totalCount:0,entities:null}))}},pt=function(e){return function(t){return e?(t(mt.startCall({callType:ut})),(a=e,m.a.get("".concat("api/specifications","/").concat(a))).then((function(e){var a=e.data;t(mt.specificationFetched({specificationForEdit:a}))})).catch((function(e){e.clientMessage="Can't find specification",t(mt.catchError({error:e,callType:ut}))}))):t(mt.specificationFetched({specificationForEdit:void 0}));var a}},ft=function(e){return function(t){return t(mt.startCall({callType:ut})),(a=e,m.a.delete("".concat("api/specifications","/").concat(a))).then((function(a){t(mt.specificationDeleted({id:e}))})).catch((function(e){e.clientMessage="Can't delete specification",t(mt.catchError({error:e,callType:ut}))}));var a}},Et=function(e){return function(t){return t(mt.startCall({callType:ut})),(a=e,m.a.post("api/specifications",{specification:a})).then((function(e){var a=e.data.specification;t(mt.specificationCreated({specification:a}))})).catch((function(e){e.clientMessage="Can't create specification",t(mt.catchError({error:e,callType:ut}))}));var a}},gt=function(e){return function(t){return t(mt.startCall({callType:ut})),function(e){return m.a.put("".concat("api/specifications","/").concat(e.id),{specification:e})}(e).then((function(){t(mt.specificationUpdated({specification:e}))})).catch((function(e){e.clientMessage="Can't update specification",t(mt.catchError({error:e,callType:ut}))}))}},bt=function(e){return function(t){return t(mt.startCall({callType:ut})),function(e){return m.a.post("".concat("api/specifications","/deleteSpecifications"),{ids:e})}(e).then((function(){t(mt.specificationsDeleted({ids:e}))})).catch((function(e){e.clientMessage="Can't delete specifications",t(mt.catchError({error:e,callType:ut}))}))}};function ht(e,t,a,n){var l=n.openEditSpecificationDialog,c=n.openDeleteSpecificationDialog;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ge.a,{overlay:r.a.createElement(We.a,{id:"specs-edit-tooltip"},"Edit specification")},r.a.createElement("a",{className:"btn btn-icon btn-light btn-hover-primary btn-sm mx-3",onClick:function(){return l(t.id)}},r.a.createElement("span",{className:"svg-icon svg-icon-md svg-icon-primary"},r.a.createElement(re.a,{src:Object(ee.j)("/media/svg/icons/Communication/Write.svg")})))),r.a.createElement(r.a.Fragment,null," "),r.a.createElement(Ge.a,{overlay:r.a.createElement(We.a,{id:"spec-delete-tooltip"},"Delete specification")},r.a.createElement("a",{className:"btn btn-icon btn-light btn-hover-danger btn-sm",onClick:function(){return c(t.id)}},r.a.createElement("span",{className:"svg-icon svg-icon-md svg-icon-danger"},r.a.createElement(re.a,{src:Object(ee.j)("/media/svg/icons/General/Trash.svg")})))))}function vt(){var e=lt(),t=Object(n.useMemo)((function(){return{queryParams:e.queryParams,setQueryParams:e.setQueryParams,openEditSpecificationDialog:e.openEditSpecificationDialog,openDeleteSpecificationDialog:e.openDeleteSpecificationDialog,ids:e.ids,setIds:e.setIds,productId:e.productId}}),[e]),a=Object(c.e)((function(e){return{currentState:e.specifications}}),c.c).currentState,l=a.totalCount,o=a.entities,s=a.listLoading,u=Object(c.d)();Object(n.useEffect)((function(){t.setIds([]),u(dt(t.queryParams,t.productId))}),[t.queryParams,u,t.productId]);var m=[{dataField:"name",text:"Specification Type",sort:!0,sortCaret:ee.i},{dataField:"value",text:"Value",sort:!0,sortCaret:ee.i},{dataField:"action",text:"Actions",formatter:ht,formatExtraData:{openEditSpecificationDialog:t.openEditSpecificationDialog,openDeleteSpecificationDialog:t.openDeleteSpecificationDialog},classes:"text-right pr-0",headerClasses:"text-right pr-3",style:{minWidth:"100px"}}],d={custom:!0,totalSize:l,sizePerPageList:tt,sizePerPage:t.queryParams.pageSize,page:t.queryParams.pageNumber};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Z.PaginationProvider,{pagination:_()(d)},(function(e){var a=e.paginationProps,n=e.paginationTableProps;return r.a.createElement(i.l,{isLoading:s,paginationProps:a},r.a.createElement(X.a,Object.assign({wrapperClasses:"table-responsive",classes:"table table-head-custom table-vertical-center overflow-hidden",bordered:!1,bootstrap4:!0,remote:!0,keyField:"id",data:null===o?[]:o,columns:m,defaultSorted:et,onTableChange:Object(ee.d)(t.setQueryParams),selectRow:Object(ee.g)({entities:o,ids:t.ids,setIds:t.setIds})},n),r.a.createElement(ee.b,{entities:o}),r.a.createElement(ee.a,{entities:o})))})))}function yt(){var e=Object(c.e)((function(e){return{isLoading:e.specifications.listLoading}}),c.c).isLoading;return Object(n.useEffect)((function(){}),[e]),r.a.createElement(i.i,{isLoading:e,text:"Loading ..."})}function Ct(){var e=lt(),t=Object(n.useMemo)((function(){return{productId:e.productId,ids:e.ids,show:e.showDeleteSpecificationsDialog,onHide:e.closeDeleteSpecificationsDialog,setIds:e.setIds,queryParams:e.queryParams}}),[e]),a=Object(c.d)(),l=Object(c.e)((function(e){return{isLoading:e.specifications.actionsLoading}}),c.c).isLoading;Object(n.useEffect)((function(){}),[l,a]),Object(n.useEffect)((function(){t.ids&&0!==t.ids.length||t.onHide()}),[t.ids]);return r.a.createElement(s.a,{show:t.show,onHide:t.onHide,"aria-labelledby":"example-modal-sizes-title-lg"},l&&r.a.createElement(i.j,{variant:"query"}),r.a.createElement(s.a.Header,{closeButton:!0},r.a.createElement(s.a.Title,{id:"example-modal-sizes-title-lg"},"Specifications Delete")),r.a.createElement(s.a.Body,null,!l&&r.a.createElement("span",null,"Are you sure to permanently delete selected specifications?"),l&&r.a.createElement("span",null,"Specifications are deleting...")),r.a.createElement(s.a.Footer,null,r.a.createElement("div",null,r.a.createElement("button",{type:"button",onClick:t.onHide,className:"btn btn-light btn-elevate"},"Cancel"),r.a.createElement(r.a.Fragment,null," "),r.a.createElement("button",{type:"button",onClick:function(){a(bt(t.ids)).then((function(){a(dt(t.queryParams,t.productId)).then((function(){t.setIds([]),t.onHide()}))}))},className:"btn btn-primary btn-elevate"},"Delete"))))}function Dt(){var e=lt(),t=Object(n.useMemo)((function(){return{id:e.selectedId,productId:e.productId,show:e.showDeleteSpecificationDialog,onHide:e.closeDeleteSpecificationDialog,queryParams:e.queryParams,setIds:e.setIds}}),[e]),a=Object(c.d)(),l=Object(c.e)((function(e){return{isLoading:e.specifications.actionsLoading}}),c.c).isLoading;Object(n.useEffect)((function(){t.id||t.onHide()}),[t.id]),Object(n.useEffect)((function(){}),[l,a]);return r.a.createElement(s.a,{show:t.show,onHide:t.onHide,"aria-labelledby":"example-modal-sizes-title-lg"},l&&r.a.createElement(i.j,{variant:"query"}),r.a.createElement(s.a.Header,{closeButton:!0},r.a.createElement(s.a.Title,{id:"example-modal-sizes-title-lg"},"Specification Delete")),r.a.createElement(s.a.Body,null,!l&&r.a.createElement("span",null,"Are you sure to permanently delete this specification?"),l&&r.a.createElement("span",null,"Specification is deleting...")),r.a.createElement(s.a.Footer,null,r.a.createElement("div",null,r.a.createElement("button",{type:"button",onClick:t.onHide,className:"btn btn-light btn-elevate"},"Cancel"),r.a.createElement(r.a.Fragment,null," "),r.a.createElement("button",{type:"button",onClick:function(){a(ft(t.id)).then((function(){a(dt(t.queryParams,t.productId)),t.setIds([]),t.onHide()}))},className:"btn btn-primary btn-elevate"},"Delete"))))}var Nt=function(e,t){var a=[];return t.forEach((function(t){var n=e.find((function(e){return e.id===t}));n&&a.push(n)})),a};function kt(){var e=lt(),t=Object(n.useMemo)((function(){return{ids:e.ids,show:e.showFetchSpecificationsDialog,onHide:e.closeFetchSpecificationsDialog,queryParams:e.queryParams}}),[e]),a=Object(c.e)((function(e){return{specifications:Nt(e.specifications.entities,t.ids)}}),c.c).specifications;return Object(n.useEffect)((function(){t.ids&&0!==t.ids.length||t.onHide()}),[t.ids]),r.a.createElement(s.a,{show:t.show,onHide:t.onHide,"aria-labelledby":"example-modal-sizes-title-lg"},r.a.createElement(s.a.Header,{closeButton:!0},r.a.createElement(s.a.Title,{id:"example-modal-sizes-title-lg"},"Fetch selected elements")),r.a.createElement(s.a.Body,null,r.a.createElement("div",{className:"list-timeline list-timeline-skin-light padding-30"},r.a.createElement("div",{className:"list-timeline-items"},a.map((function(e){return r.a.createElement("div",{className:"list-timeline-item mb-3",key:e.id},r.a.createElement("span",{className:"list-timeline-text"},r.a.createElement("span",{className:"label label-lg label-light-success label-inline",style:{width:"60px"}},"ID: ",e.id)," ",r.a.createElement("span",{className:"ml-5"},e.name,": ",e.value," ")))}))))),r.a.createElement(s.a.Footer,null,r.a.createElement("div",null,r.a.createElement("button",{type:"button",onClick:t.onHide,className:"btn btn-light btn-elevate"},"Cancel"),r.a.createElement(r.a.Fragment,null," "),r.a.createElement("button",{type:"button",onClick:t.onHide,className:"btn btn-primary btn-elevate"},"Ok"))))}function Pt(){var e=lt(),t=Object(n.useMemo)((function(){return{ids:e.ids,openDeleteSpecificationsDialog:e.openDeleteSpecificationsDialog,openFetchSpecificationsDialog:e.openFetchSpecificationsDialog}}),[e]);return r.a.createElement("div",{className:"form"},r.a.createElement("div",{className:"row align-items-center form-group-actions margin-top-20"},r.a.createElement("div",{className:"col-xl-12"},r.a.createElement("div",{className:"form-group form-group-inline"},r.a.createElement("div",{className:"form-label form-label-no-wrap"},r.a.createElement("label",{className:"font-bold font-danger mt-5"},r.a.createElement("span",null,"Selected records count: ",t.ids.length))),r.a.createElement("div",{className:"form-group-inline"},r.a.createElement("button",{type:"button",className:"btn btn-danger font-weight-bolder font-size-sm",onClick:t.openDeleteSpecificationsDialog},r.a.createElement("i",{className:"fa fa-trash"})," Delete All"),"\xa0",r.a.createElement("button",{type:"button",className:"btn btn-light-primary font-weight-bolder font-size-sm",onClick:t.openFetchSpecificationsDialog},r.a.createElement("i",{className:"fa fa-stream"})," Fetch Selected"))))))}function jt(e){var t=e.id,a=Object(n.useState)(""),l=Object(k.a)(a,2),o=l[0],u=l[1],m=Object(c.e)((function(e){return{specificationForEdit:e.specifications.specificationForEdit,actionsLoading:e.specifications.actionsLoading}}),c.c),d=m.specificationForEdit,p=m.actionsLoading;return Object(n.useEffect)((function(){var e=t?"":"New Specification";d&&t&&(e="Edit Specification"),u(e)}),[d,p]),r.a.createElement(r.a.Fragment,null,p&&r.a.createElement(i.j,{variant:"query"}),r.a.createElement(s.a.Header,{closeButton:!0},r.a.createElement(s.a.Title,{id:"example-modal-sizes-title-lg"},o)))}var Ot=O.f().shape({value:O.h().min(2,"Minimum 2 symbols").max(50,"Maximum 50 symbols").required("Value is required"),specId:O.e().required("Specification type is required")});function Ft(e){var t=e.saveSpecification,a=e.specification,n=e.actionsLoading,l=e.onHide;return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.c,{enableReinitialize:!0,initialValues:a,validationSchema:Ot,onSubmit:function(e){t(e)}},(function(e){var t=e.handleSubmit;return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a.Body,{className:"overlay overlay-block cursor-default"},n&&r.a.createElement("div",{className:"overlay-layer bg-transparent"},r.a.createElement("div",{className:"spinner spinner-lg spinner-success"})),r.a.createElement(j.b,{className:"form form-label-right"},r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement(i.m,{name:"specId",label:"Specification Type"},nt.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}))))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement(j.a,{name:"value",component:i.g,placeholder:"Value",label:"Value"}))))),r.a.createElement(s.a.Footer,null,r.a.createElement("button",{type:"button",onClick:l,className:"btn btn-light btn-elevate"},"Cancel"),r.a.createElement(r.a.Fragment,null," "),r.a.createElement("button",{type:"submit",onClick:function(){return t()},className:"btn btn-primary btn-elevate"},"Save")))})))}function St(){var e=lt(),t=Object(n.useMemo)((function(){return{id:e.selectedId,show:e.showEditSpecificationDialog,onHide:e.closeEditSpecificationDialog,productId:e.productId,queryParams:e.queryParams,initSpecification:e.initSpecification}}),[e]),a=Object(c.d)(),l=Object(c.e)((function(e){return{actionsLoading:e.specifications.actionsLoading,specificationForEdit:e.specifications.specificationForEdit}}),c.c),i=l.actionsLoading,o=l.specificationForEdit;Object(n.useEffect)((function(){a(pt(t.id))}),[t.id,a]);return r.a.createElement(s.a,{show:t.show,onHide:t.onHide,"aria-labelledby":"example-modal-sizes-title-lg"},r.a.createElement(jt,{id:t.id}),r.a.createElement(Ft,{saveSpecification:function(e){t.id?a(gt(e)).then((function(){a(dt(t.queryParams,t.productId)).then((function(){return t.onHide()}))})):a(Et(e)).then((function(){a(dt(t.queryParams,t.productId)).then((function(){return t.onHide()}))}))},actionsLoading:i,specification:o||t.initSpecification,onHide:t.onHide}))}function xt(){var e=lt(),t=Object(n.useMemo)((function(){return{ids:e.ids}}),[e]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(yt,null),r.a.createElement(St,null),r.a.createElement(Dt,null),r.a.createElement(Ct,null),r.a.createElement(kt,null),r.a.createElement("div",{className:"form margin-b-30"},r.a.createElement(it,null),t.ids.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Pt,null),r.a.createElement("br",null))),r.a.createElement(vt,null))}var wt=a(20),Lt=[{dataField:"id",order:"asc"}],It=[{text:"1",value:1},{text:"3",value:3},{text:"5",value:5}],qt={filter:{text:""},sortOrder:"asc",sortField:"id",pageNumber:1,pageSize:5},Tt=Object(n.createContext)();function Rt(){return Object(n.useContext)(Tt)}Tt.Consumer;function Mt(e){var t=e.currentProductId,a=e.children,l=Object(n.useState)(t),c=Object(k.a)(l,2),i=c[0],o=c[1],s=Object(n.useState)(qt),u=Object(k.a)(s,2),m=u[0],d=u[1],p=Object(n.useState)([]),f=Object(k.a)(p,2),E=f[0],g=f[1],b=Object(n.useCallback)((function(e){d((function(t){return Object(x.isFunction)(e)&&(e=e(t)),Object(x.isEqual)(t,e)?t:e}))}),[]),h=Object(n.useState)(null),v=Object(k.a)(h,2),y=v[0],C=v[1],D=Object(n.useState)(!1),N=Object(k.a)(D,2),P=N[0],j=N[1],O={id:void 0,text:"",type:0,dueDate:"01/07/2020",carId:i};Object(n.useEffect)((function(){O.productId=t,O.carId=t,o(t)}),[t]);var F=Object(n.useState)(!1),S=Object(k.a)(F,2),w=S[0],L=S[1],I=Object(n.useState)(!1),q=Object(k.a)(I,2),T=q[0],R=q[1],M=Object(n.useState)(!1),H=Object(k.a)(M,2),B=H[0],z=H[1],U={ids:E,setIds:g,productId:i,setProductId:o,queryParams:m,setQueryParams:b,initRemark:O,selectedId:y,showEditRemarkDialog:P,openNewRemarkDialog:function(){C(void 0),j(!0)},openEditRemarkDialog:function(e){C(e),j(!0)},closeEditRemarkDialog:function(){C(void 0),j(!1)},showDeleteRemarkDialog:w,openDeleteRemarkDialog:function(e){C(e),L(!0)},closeDeleteRemarkDialog:function(){C(void 0),L(!1)},showDeleteRemarksDialog:T,openDeleteRemarksDialog:function(){R(!0)},closeDeleteRemarksDialog:function(){R(!1)},openFetchRemarksDialog:function(){z(!0)},closeFetchRemarksDialog:function(){z(!1)},showFetchRemarksDialog:B};return r.a.createElement(Tt.Provider,{value:U},a)}function Ht(){var e=Rt(),t=Object(n.useMemo)((function(){return{setQueryParams:e.setQueryParams,openNewRemarkDialog:e.openNewRemarkDialog,queryParams:e.queryParams}}),[e]),a=function(e){var a=function(e,t){var a=t.searchText,n=Object($.a)({},e),r={};return r.text=a,n.filter=r,n}(t.queryParams,e);Object(x.isEqual)(a,t.queryParams)||(a.pageNumber=1,t.setQueryParams(a))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"form-filtration"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-md-2 margin-bottom-10-mobile"},r.a.createElement(j.c,{initialValues:{searchText:""},onSubmit:function(e){a(e)}},(function(e){var t=e.values,a=e.handleSubmit,n=e.handleBlur,l=(e.handleChange,e.setFieldValue);return r.a.createElement("form",{onSubmit:a},r.a.createElement("div",null,r.a.createElement("input",{type:"text",className:"form-control",name:"searchText",placeholder:"Search",onBlur:n,value:t.searchText,onChange:function(e){l("searchText",e.target.value),a()}}),r.a.createElement("small",{className:"form-text text-muted"},r.a.createElement("b",null,"Search")," in all fields")))}))),r.a.createElement("div",{className:"col-md-8 margin-bottom-10-mobile"}),r.a.createElement("div",{className:"col-md-2 text-right margin-bottom-10-mobile"},r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return t.openNewRemarkDialog()}},"Create new remark")))))}var Bt={listLoading:!1,actionsLoading:!1,totalCount:0,entities:null,remarkForEdit:void 0,lastError:null},zt="list",Ut="action",At=Object(d.b)({name:"remarks",initialState:Bt,reducers:{catchError:function(e,t){e.error="".concat(t.type,": ").concat(t.payload.error),t.payload.callType===zt?e.listLoading=!1:e.actionsLoading=!1},startCall:function(e,t){e.error=null,t.payload.callType===zt?e.listLoading=!0:e.actionsLoading=!0},remarkFetched:function(e,t){e.actionsLoading=!1,e.remarkForEdit=t.payload.remarkForEdit,e.error=null},remarksFetched:function(e,t){var a=t.payload,n=a.totalCount,r=a.entities;e.listLoading=!1,e.error=null,e.entities=r,e.totalCount=n},remarkCreated:function(e,t){e.actionsLoading=!1,e.error=null,e.entities.push(t.payload.remark)},remarkUpdated:function(e,t){e.error=null,e.actionsLoading=!1,e.entities=e.entities.map((function(e){return e.id===t.payload.remark.id?t.payload.remark:e}))},remarkDeleted:function(e,t){e.error=null,e.actionsLoading=!1,e.entities=e.entities.filter((function(e){return e.id!==t.payload.id}))},remarksDeleted:function(e,t){e.error=null,e.actionsLoading=!1,e.entities=e.entities.filter((function(e){return!t.payload.ids.includes(e.id)}))},remarksStatusUpdated:function(e,t){e.actionsLoading=!1,e.error=null;var a=t.payload,n=a.ids,r=a.status;e.entities=e.entities.map((function(e){return n.findIndex((function(t){return t===e.id}))>-1&&(e.status=r),e}))}}}).actions,Qt=function(e,t){return function(a){return a(At.startCall({callType:zt})),t?function(e,t){return m.a.post("".concat("api/remarks","find/").concat(t),{queryParams:e})}(e,t).then((function(e){var t=e.data,n=t.totalCount,r=t.entities;a(At.remarksFetched({totalCount:n,entities:r}))})).catch((function(e){e.clientMessage="Can't find remarks",a(At.catchError({error:e,callType:zt}))})):a(At.remarksFetched({totalCount:0,entities:null}))}},Vt=function(e){return function(t){return e?(t(At.startCall({callType:Ut})),(a=e,m.a.get("".concat("api/remarks","/").concat(a))).then((function(e){var a=e.data;t(At.remarkFetched({remarkForEdit:a}))})).catch((function(e){e.clientMessage="Can't find remark",t(At.catchError({error:e,callType:Ut}))}))):t(At.remarkFetched({remarkForEdit:void 0}));var a}},Gt=function(e){return function(t){return t(At.startCall({callType:Ut})),(a=e,m.a.delete("".concat("api/remarks","/").concat(a))).then((function(a){t(At.remarkDeleted({id:e}))})).catch((function(e){e.clientMessage="Can't delete remark",t(At.catchError({error:e,callType:Ut}))}));var a}},Wt=function(e){return function(t){return t(At.startCall({callType:Ut})),(a=e,m.a.post("api/remarks",{remark:a})).then((function(e){var a=e.data.remark;t(At.remarkCreated({remark:a}))})).catch((function(e){e.clientMessage="Can't create remark",t(At.catchError({error:e,callType:Ut}))}));var a}},Yt=function(e){return function(t){return t(At.startCall({callType:Ut})),function(e){return m.a.put("".concat("api/remarks","/").concat(e.id),{remark:e})}(e).then((function(){t(At.remarkUpdated({remark:e}))})).catch((function(e){e.clientMessage="Can't update remark",t(At.catchError({error:e,callType:Ut}))}))}},$t=function(e){return function(t){return t(At.startCall({callType:Ut})),function(e){return m.a.post("".concat("api/remarks","/deleteRemarks"),{ids:e})}(e).then((function(){console.log("delete return"),t(At.remarksDeleted({ids:e}))})).catch((function(e){e.clientMessage="Can't delete remarks",t(At.catchError({error:e,callType:Ut}))}))}},Jt=function(e,t,a,n){var l=n.openEditRemarkDialog,c=n.openDeleteRemarkDialog;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ge.a,{overlay:r.a.createElement(We.a,{id:"customers-edit-tooltip"},"Edit remark")},r.a.createElement("a",{className:"btn btn-icon btn-light btn-hover-primary btn-sm mx-3",onClick:function(){return l(t.id)}},r.a.createElement("span",{className:"svg-icon svg-icon-md svg-icon-primary"},r.a.createElement(re.a,{src:Object(ee.j)("/media/svg/icons/Communication/Write.svg")})))),r.a.createElement(r.a.Fragment,null," "),r.a.createElement(Ge.a,{overlay:r.a.createElement(We.a,{id:"customers-delete-tooltip"},"Delete remark")},r.a.createElement("a",{className:"btn btn-icon btn-light btn-hover-danger btn-sm",onClick:function(){return c(t.id)}},r.a.createElement("span",{className:"svg-icon svg-icon-md svg-icon-danger"},r.a.createElement(re.a,{src:Object(ee.j)("/media/svg/icons/General/Trash.svg")})))))};function Kt(){var e=Rt(),t=Object(n.useMemo)((function(){return{ids:e.ids,setIds:e.setIds,queryParams:e.queryParams,setQueryParams:e.setQueryParams,productId:e.productId,openEditRemarkDialog:e.openEditRemarkDialog,openDeleteRemarkDialog:e.openDeleteRemarkDialog}}),[e]),a=Object(c.e)((function(e){return{currentState:e.remarks}}),c.c).currentState,l=a.totalCount,o=a.entities,s=a.listLoading,u=Object(c.d)();Object(n.useEffect)((function(){t.setIds([]),u(Qt(t.queryParams,t.productId))}),[t.queryParams,u,t.productId]);var m=[{dataField:"id",text:"ID",sort:!0,sortCaret:ee.i},{dataField:"text",text:"Text",sort:!0,sortCaret:ee.i},{dataField:"dueDate",text:"Due date",sort:!1},{dataField:"action",text:"Actions",formatter:Jt,formatExtraData:{openEditRemarkDialog:t.openEditRemarkDialog,openDeleteRemarkDialog:t.openDeleteRemarkDialog},classes:"text-right pr-0",headerClasses:"text-right pr-3",style:{minWidth:"100px"}}],d={custom:!0,totalSize:l,sizePerPageList:It,sizePerPage:t.queryParams.pageSize,page:t.queryParams.pageNumber};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Z.PaginationProvider,{pagination:_()(d)},(function(e){var a=e.paginationProps,n=e.paginationTableProps;return r.a.createElement(i.l,{isLoading:s,paginationProps:a},r.a.createElement(X.a,Object.assign({wrapperClasses:"table-responsive",classes:"table table-head-custom table-vertical-center overflow-hidden",bordered:!1,bootstrap4:!0,remote:!0,keyField:"id",data:null===o?[]:o,columns:m,defaultSorted:Lt,onTableChange:Object(ee.d)(t.setQueryParams),selectRow:Object(ee.g)({entities:o,ids:t.ids,setIds:t.setIds})},n),r.a.createElement(ee.b,{entities:o}),r.a.createElement(ee.a,{entities:o})))})))}function Xt(){var e=Object(c.e)((function(e){return{isLoading:e.remarks.listLoading}}),c.c).isLoading;return Object(n.useEffect)((function(){}),[e]),r.a.createElement(i.i,{isLoading:e,text:"Loading ..."})}function Zt(){var e=Rt(),t=Object(n.useMemo)((function(){return{ids:e.ids,setIds:e.setIds,productId:e.productId,queryParams:e.queryParams,showDeleteRemarksDialog:e.showDeleteRemarksDialog,closeDeleteRemarksDialog:e.closeDeleteRemarksDialog}}),[e]),a=Object(c.d)(),l=Object(c.e)((function(e){return{isLoading:e.remarks.actionsLoading}}),c.c).isLoading;Object(n.useEffect)((function(){}),[l,a]),Object(n.useEffect)((function(){t.ids&&0!==t.ids.length||t.closeDeleteRemarksDialog()}),[t.ids]);return r.a.createElement(s.a,{show:t.showDeleteRemarksDialog,onHide:t.closeDeleteRemarksDialog,"aria-labelledby":"example-modal-sizes-title-lg"},l&&r.a.createElement(i.j,{variant:"query"}),r.a.createElement(s.a.Header,{closeButton:!0},r.a.createElement(s.a.Title,{id:"example-modal-sizes-title-lg"},"Remarks Delete")),r.a.createElement(s.a.Body,null,!l&&r.a.createElement("span",null,"Are you sure to permanently delete selected remarks?"),l&&r.a.createElement("span",null,"Remarks are deleting...")),r.a.createElement(s.a.Footer,null,r.a.createElement("div",null,r.a.createElement("button",{type:"button",onClick:t.closeDeleteRemarksDialog,className:"btn btn-light btn-elevate"},"Cancel"),r.a.createElement(r.a.Fragment,null," "),r.a.createElement("button",{type:"button",onClick:function(){a($t(t.ids)).then((function(){a(Qt(t.queryParams,t.productId)).then((function(){t.setIds([]),t.closeDeleteRemarksDialog()}))}))},className:"btn btn-primary btn-elevate"},"Delete"))))}function _t(){var e=Rt(),t=Object(n.useMemo)((function(){return{id:e.selectedId,setIds:e.setIds,productId:e.productId,queryParams:e.queryParams,showDeleteRemarkDialog:e.showDeleteRemarkDialog,closeDeleteRemarkDialog:e.closeDeleteRemarkDialog}}),[e]),a=Object(c.d)(),l=Object(c.e)((function(e){return{isLoading:e.remarks.actionsLoading}}),c.c).isLoading;Object(n.useEffect)((function(){t.id||t.closeDeleteRemarkDialog()}),[t.id]),Object(n.useEffect)((function(){}),[l,a]);return r.a.createElement(s.a,{show:t.showDeleteRemarkDialog,onHide:t.closeDeleteRemarkDialog,"aria-labelledby":"example-modal-sizes-title-lg"},l&&r.a.createElement(i.j,{variant:"query"}),r.a.createElement(s.a.Header,{closeButton:!0},r.a.createElement(s.a.Title,{id:"example-modal-sizes-title-lg"},"Remark Delete")),r.a.createElement(s.a.Body,null,!l&&r.a.createElement("span",null,"Are you sure to permanently delete this remark?"),l&&r.a.createElement("span",null,"Remark is deleting...")),r.a.createElement(s.a.Footer,null,r.a.createElement("div",null,r.a.createElement("button",{type:"button",onClick:t.closeDeleteRemarkDialog,className:"btn btn-light btn-elevate"},"Cancel"),r.a.createElement(r.a.Fragment,null," "),r.a.createElement("button",{type:"button",onClick:function(){a(Gt(t.id)).then((function(){a(Qt(t.queryParams,t.productId)),t.setIds([]),t.closeDeleteRemarkDialog()}))},className:"btn btn-primary btn-elevate"},"Delete"))))}var ea=function(e,t){var a=[];return t.forEach((function(t){var n=e.find((function(e){return e.id===t}));n&&a.push(n)})),a};function ta(){var e=Rt(),t=Object(n.useMemo)((function(){return{ids:e.ids,queryParams:e.queryParams,showFetchRemarksDialog:e.showFetchRemarksDialog,closeFetchRemarksDialog:e.closeFetchRemarksDialog}}),[e]),a=Object(c.e)((function(e){return{remarks:ea(e.remarks.entities,t.ids)}}),c.c).remarks;return Object(n.useEffect)((function(){t.ids&&0!==t.ids.length||t.closeFetchRemarksDialog()}),[t.ids]),r.a.createElement(s.a,{show:t.showFetchRemarksDialog,onHide:t.closeFetchRemarksDialog,"aria-labelledby":"example-modal-sizes-title-lg"},r.a.createElement(s.a.Header,{closeButton:!0},r.a.createElement(s.a.Title,{id:"example-modal-sizes-title-lg"},"Fetch selected elements")),r.a.createElement(s.a.Body,null,r.a.createElement("div",{className:"list-timeline list-timeline-skin-light padding-30"},r.a.createElement("div",{className:"list-timeline-items"},a.map((function(e){return r.a.createElement("div",{className:"list-timeline-item mb-3",key:e.id},r.a.createElement("span",{className:"list-timeline-text"},r.a.createElement("span",{className:"label label-lg label-light-success label-inline",style:{width:"60px"}},"ID: ",e.id)," ",r.a.createElement("span",{className:"ml-5"},e.text," ")))}))))),r.a.createElement(s.a.Footer,null,r.a.createElement("div",null,r.a.createElement("button",{type:"button",onClick:t.closeFetchRemarksDialog,className:"btn btn-light btn-elevate"},"Cancel"),r.a.createElement(r.a.Fragment,null," "),r.a.createElement("button",{type:"button",onClick:t.closeFetchRemarksDialog,className:"btn btn-primary btn-elevate"},"Ok"))))}function aa(){var e=Rt(),t=Object(n.useMemo)((function(){return{ids:e.ids,openDeleteRemarksDialog:e.openDeleteRemarksDialog,openFetchRemarksDialog:e.openFetchRemarksDialog}}),[e]);return r.a.createElement("div",{className:"form"},r.a.createElement("div",{className:"row align-items-center form-group-actions margin-top-20"},r.a.createElement("div",{className:"col-xl-12"},r.a.createElement("div",{className:"form-group form-group-inline"},r.a.createElement("div",{className:"form-label form-label-no-wrap"},r.a.createElement("label",{className:"font-bold font-danger mt-5"},r.a.createElement("span",null,"Selected records count: ",t.ids.length))),r.a.createElement("div",{className:"form-group-inline"},r.a.createElement("button",{type:"button",className:"btn btn-danger font-weight-bolder font-size-sm",onClick:t.openDeleteRemarksDialog},r.a.createElement("i",{className:"fa fa-trash"})," Delete All"),"\xa0",r.a.createElement("button",{type:"button",className:"btn btn-light-primary font-weight-bolder font-size-sm",onClick:t.openFetchRemarksDialog},r.a.createElement("i",{className:"fa fa-stream"})," Fetch Selected"))))))}function na(e){var t=e.id,a=Object(n.useState)(""),l=Object(k.a)(a,2),o=l[0],u=l[1],m=Object(c.e)((function(e){return{remarkForEdit:e.remarks.remarkForEdit,actionsLoading:e.remarks.actionsLoading}}),c.c),d=m.remarkForEdit,p=m.actionsLoading;return Object(n.useEffect)((function(){var e=t?"":"New Remark";d&&t&&(e="Edit remark"),u(e)}),[d,p]),r.a.createElement(r.a.Fragment,null,p&&r.a.createElement(i.j,{variant:"query"}),r.a.createElement(s.a.Header,{closeButton:!0},r.a.createElement(s.a.Title,{id:"example-modal-sizes-title-lg"},o)))}var ra=O.f().shape({text:O.h().min(2,"Minimum 2 symbols").max(50,"Maximum 50 symbols").required("Text is required"),type:O.e().required("Type is required"),dueDate:O.d().nullable(!1).required("Due date is required")});function la(e){var t=e.saveRemark,a=e.remark,n=e.actionsLoading,l=e.onHide;return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.c,{enableReinitialize:!0,initialValues:a,validationSchema:ra,onSubmit:function(e){return t(e)}},(function(e){var t=e.handleSubmit;return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a.Body,{className:"overlay overlay-block cursor-default"},n&&r.a.createElement("div",{className:"overlay-layer bg-transparent"},r.a.createElement("div",{className:"spinner spinner-lg spinner-success"})),r.a.createElement(j.b,{className:"form form-label-right"},r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement(j.a,{name:"text",component:i.g,placeholder:"Text",label:"Text"}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement(i.f,{name:"dueDate",label:"Due date"}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement(i.m,{name:"type",label:"Type"},r.a.createElement("option",{value:"0"},"Info"),r.a.createElement("option",{value:"1"},"Note"),r.a.createElement("option",{value:"2"},"Reminder")))))),r.a.createElement(s.a.Footer,null,r.a.createElement("button",{type:"button",onClick:l,className:"btn btn-light btn-elevate"},"Cancel"),r.a.createElement(r.a.Fragment,null," "),r.a.createElement("button",{type:"submit",onClick:function(){return t()},className:"btn btn-primary btn-elevate"},"Save")))})))}function ca(){var e=Rt(),t=Object(n.useMemo)((function(){return{id:e.selectedId,setIds:e.setIds,productId:e.productId,queryParams:e.queryParams,showEditRemarkDialog:e.showEditRemarkDialog,closeEditRemarkDialog:e.closeEditRemarkDialog,initRemark:e.initRemark}}),[e]),a=Object(c.d)(),l=Object(c.e)((function(e){return{actionsLoading:e.remarks.actionsLoading,remarkForEdit:e.remarks.remarkForEdit}}),c.c),i=l.actionsLoading,o=l.remarkForEdit;Object(n.useEffect)((function(){a(Vt(t.id))}),[t.id,a]);return r.a.createElement(s.a,{show:t.showEditRemarkDialog,onHide:t.closeEditRemarkDialog,"aria-labelledby":"example-modal-sizes-title-lg"},r.a.createElement(na,{id:t.id}),r.a.createElement(la,{saveRemark:function(e){e.dueDate=function(e){if("string"===typeof e)return e;var t=e.getFullYear(),a=(1+e.getMonth()).toString();a=a.length>1?a:"0"+a;var n=e.getDate().toString();return a+"/"+(n=n.length>1?n:"0"+n)+"/"+t}(e.dueDate),t.id?a(Yt(e)).then((function(){a(Qt(t.queryParams,t.productId)).then((function(){t.setIds([]),t.closeEditRemarkDialog()}))})):a(Wt(e)).then((function(){a(Qt(t.queryParams,t.productId)).then((function(){t.setIds([]),t.closeEditRemarkDialog()}))}))},actionsLoading:i,remark:o||t.initRemark,onHide:t.closeEditRemarkDialog}))}function ia(){var e=Rt(),t=Object(n.useMemo)((function(){return{ids:e.ids}}),[e]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Xt,null),r.a.createElement(ca,null),r.a.createElement(_t,null),r.a.createElement(Zt,null),r.a.createElement(ta,null),r.a.createElement("div",{className:"form margin-b-30"},r.a.createElement(Ht,null),t.ids.length>0&&r.a.createElement(aa,null)),r.a.createElement(Kt,null))}var oa={id:void 0,model:"",manufacture:"Pontiac",modelYear:2020,mileage:0,description:"",color:"Red",price:1e4,condition:1,status:0,VINCode:""};function sa(e){var t=e.history,a=e.match.params.id,l=Object(wt.k)(),o=Object(n.useState)("basic"),s=Object(k.a)(o,2),u=s[0],m=s[1],d=Object(n.useState)(""),p=Object(k.a)(d,2),f=p[0],E=p[1],g=Object(c.d)(),b=Object(c.e)((function(e){return{actionsLoading:e.products.actionsLoading,productForEdit:e.products.productForEdit}}),c.c),h=b.actionsLoading,v=b.productForEdit;Object(n.useEffect)((function(){g(ge(a))}),[a,g]),Object(n.useEffect)((function(){var e=a?"":"New Product";v&&a&&(e="Edit product '".concat(v.manufacture," ").concat(v.model," - ").concat(v.modelYear,"'")),E(e),l.setTitle(e)}),[v,a]);var y=Object(n.useRef)(),C=function(){t.push("/e-commerce/products")};return r.a.createElement(i.b,null,h&&r.a.createElement(i.j,null),r.a.createElement(i.d,{title:f},r.a.createElement(i.e,null,r.a.createElement("button",{type:"button",onClick:C,className:"btn btn-light"},r.a.createElement("i",{className:"fa fa-arrow-left"}),"Back"),"  ",r.a.createElement("button",{className:"btn btn-light ml-2"},r.a.createElement("i",{className:"fa fa-redo"}),"Reset"),"  ",r.a.createElement("button",{type:"submit",className:"btn btn-primary ml-2",onClick:function(){y&&y.current&&y.current.click()}},"Save"))),r.a.createElement(i.c,null,r.a.createElement("ul",{className:"nav nav-tabs nav-tabs-line ",role:"tablist"},r.a.createElement("li",{className:"nav-item",onClick:function(){return m("basic")}},r.a.createElement("a",{className:"nav-link ".concat("basic"===u&&"active"),"data-toggle":"tab",role:"tab","aria-selected":("basic"===u).toString()},"Basic info")),a&&r.a.createElement(r.a.Fragment,null," ",r.a.createElement("li",{className:"nav-item",onClick:function(){return m("remarks")}},r.a.createElement("a",{className:"nav-link ".concat("remarks"===u&&"active"),"data-toggle":"tab",role:"button","aria-selected":("remarks"===u).toString()},"Product remarks")),r.a.createElement("li",{className:"nav-item",onClick:function(){return m("specs")}},r.a.createElement("a",{className:"nav-link ".concat("specs"===u&&"active"),"data-toggle":"tab",role:"tab","aria-selected":("specs"===u).toString()},"Product specifications")))),r.a.createElement("div",{className:"mt-5"},"basic"===u&&r.a.createElement(_e,{actionsLoading:h,product:v||oa,btnRef:y,saveProduct:function(e){a?g(ve(e)).then((function(){return C()})):g(he(e)).then((function(){return C()}))}}),"remarks"===u&&a&&r.a.createElement(Mt,{currentProductId:a},r.a.createElement(ia,null)),"specs"===u&&a&&r.a.createElement(ct,{currentProductId:a},r.a.createElement(xt,null)))))}function ua(){return r.a.createElement(n.Suspense,{fallback:r.a.createElement(wt.c,null)},r.a.createElement(l.e,null,r.a.createElement(l.b,{exact:!0,from:"/e-commerce",to:"/e-commerce/customers"}),r.a.createElement(wt.a,{path:"/e-commerce/customers",component:se}),r.a.createElement(wt.a,{path:"/e-commerce/products/new",component:sa}),r.a.createElement(wt.a,{path:"/e-commerce/products/:id/edit",component:sa}),r.a.createElement(wt.a,{path:"/e-commerce/products",component:Xe})))}a.d(t,"default",(function(){return ua}))}}]);
//# sourceMappingURL=5.d6ff7677.chunk.js.map